<ion-header class="ion-no-border">
  <ion-toolbar class="custom-toolbar">
    <ion-title class="modal-title">{{ user.nombre }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="closeModal()" class="close-button">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="modal-content">
  <div class="info-section">
    <div class="section-header">
      <ion-icon name="mail" class="section-icon"></ion-icon>
      <h3 class="section-title">Información de Contacto</h3>
    </div>
    <div class="info-item">
      <div class="info-row">
        <span class="info-label">Email</span>
        <span class="info-value">{{ user.email }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">Teléfono</span>
        <span class="info-value">{{ user.telefono }}</span>
      </div>
    </div>
  </div>

  <div class="info-section">
    <div class="section-header">
      <ion-icon name="card" class="section-icon"></ion-icon>
      <h3 class="section-title">Información Financiera</h3>
    </div>
    <div class="info-item">
      <div class="info-row">
        <span class="info-label">Identificación</span>
        <span class="info-value identification">{{ user.identificacion }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">Cuentas Activas</span>
        <span class="info-value">
          <ion-badge color="primary">{{ user.cuentasActivas || 0 }}</ion-badge>
        </span>
      </div>
    </div>
  </div>

  <div class="info-section">
    <div class="section-header">
      <ion-icon name="shield-checkmark" class="section-icon"></ion-icon>
      <h3 class="section-title">Información de Seguridad</h3>
    </div>
    <div class="info-item">
      <div class="info-row">
        <span class="info-label">Rol</span>
        <span class="info-value">
          <ion-badge 
            [color]="user.role === 'Administrador' ? 'danger' : user.role === 'Gestor' ? 'warning' : 'primary'">
            {{ user.role }}
          </ion-badge>
        </span>
      </div>
      <div class="info-row">
        <span class="info-label">Estado</span>
        <span class="info-value">
          <ion-badge [color]="user.bloqueado ? 'danger' : 'success'">
            {{ user.bloqueado ? 'Bloqueado' : 'Activo' }}
          </ion-badge>
        </span>
      </div>
      <div class="info-row">
        <span class="info-label">Intentos Fallidos</span>
        <span class="info-value">{{ user.intentosFallidos || 0 }}</span>
      </div>
    </div>
  </div>

  <div class="action-buttons">
    <ion-button expand="block" [color]="user.bloqueado ? 'success' : 'warning'" (click)="toggleBlock()">
      <ion-icon slot="start" [name]="user.bloqueado ? 'lock-open' : 'lock-closed'"></ion-icon>
      {{ user.bloqueado ? 'Desbloquear' : 'Bloquear' }} Usuario
    </ion-button>
    <ion-button expand="block" color="primary" (click)="editUser()">
      <ion-icon slot="start" name="create"></ion-icon>
      Editar Usuario
    </ion-button>
  </div>
</ion-content>
